CREATE TABLE Korisnik
(
  KorisnickoIme VARCHAR(30) NOT NULL,
  Fotografija 30 NOT NULL,
  HashLozinke VARCHAR(30) NOT NULL,
  Ime VARCHAR(20) NOT NULL,
  Prezime VARCHAR(30) NOT NULL,
  BrojMobitela VARCHAR(10) NOT NULL,
  eMail VARCHAR(30) NOT NULL,
  Uloga VARCHAR(20) NOT NULL,
  Potvrden 1 NOT NULL,
  PRIMARY KEY (KorisnickoIme)
);

CREATE TABLE Akcija
(
  idAkcije INT NOT NULL,
  adresa VARCHAR(30) NOT NULL,
  gotova 1 NOT NULL,
  Opis_Akcije VARCHAR(30) NOT NULL,
  PRIMARY KEY (idAkcije)
);

CREATE TABLE Galerija_akcije
(
  Fotografija 30 NOT NULL,
  idAkcije INT NOT NULL,
  PRIMARY KEY (Fotografija),
  FOREIGN KEY (idAkcije) REFERENCES Akcija(idAkcije)
);

CREATE TABLE Spasilac
(
  Osposobljenje VARCHAR(30) NOT NULL,
  lokacija 30 NOT NULL,
  zauzetost 1 NOT NULL,
  KorisnickoIme VARCHAR(30) NOT NULL,
  idAkcije INT NOT NULL,
  idStanice INT NOT NULL,
  PRIMARY KEY (KorisnickoIme),
  FOREIGN KEY (KorisnickoIme) REFERENCES Korisnik(KorisnickoIme),
  FOREIGN KEY (idAkcije) REFERENCES Akcija(idAkcije),
  FOREIGN KEY (idStanice) REFERENCES Stanica(idStanice)
);

CREATE TABLE Stanica
(
  idStanice INT NOT NULL,
  ImeStanice VARCHAR(30) NOT NULL,
  Voditelj VARCHAR(30) NOT NULL,
  PRIMARY KEY (idStanice),
  FOREIGN KEY (Voditelj) REFERENCES Spasilac(KorisnickoIme)
);

CREATE TABLE Poziv_na_akciju
(
  Način_sudjelovanja VARCHAR(30) NOT NULL,
  Hitnost INT NOT NULL,
  OdgovorSpasioca  NOT NULL,
  Komentar VARCHAR(30) NOT NULL,
  KorisnickoImeSpasioca VARCHAR(30) NOT NULL,
  idAkcije INT NOT NULL,
  KorisnickoImeDispečera VARCHAR(30) NOT NULL,
  PRIMARY KEY (KorisnickoImeSpasioca, idAkcije),
  FOREIGN KEY (KorisnickoImeSpasioca) REFERENCES Spasilac(KorisnickoIme),
  FOREIGN KEY (idAkcije) REFERENCES Akcija(idAkcije),
  FOREIGN KEY (KorisnickoImeDispečera) REFERENCES Korisnik(KorisnickoIme)
);

CREATE TABLE Zadatak
(
  ID_Zadatka INT NOT NULL,
  Komentar VARCHAR(30) NOT NULL,
  Opis_zadatka VARCHAR(30) NOT NULL,
  Adresa VARCHAR(30) NOT NULL,
  KorisnickoImeSpasioca VARCHAR(30) NOT NULL,
  KorisnickoImeDispečera VARCHAR(30) NOT NULL,
  PRIMARY KEY (ID_Zadatka),
  FOREIGN KEY (KorisnickoImeSpasioca) REFERENCES Spasilac(KorisnickoIme),
  FOREIGN KEY (KorisnickoImeDispečera) REFERENCES Korisnik(KorisnickoIme)
);

CREATE TABLE Ruta
(
  UsputnaLokacija VARCHAR(30) NOT NULL,
  ID_Zadatka INT NOT NULL,
  PRIMARY KEY (UsputnaLokacija),
  FOREIGN KEY (ID_Zadatka) REFERENCES Zadatak(ID_Zadatka)
);

CREATE TABLE KomentariAkcije
(
  Komentar VARCHAR(30) NOT NULL,
  idAkcije INT NOT NULL,
  KorisnickoIme VARCHAR(30) NOT NULL,
  PRIMARY KEY (idAkcije, KorisnickoIme),
  FOREIGN KEY (idAkcije) REFERENCES Akcija(idAkcije),
  FOREIGN KEY (KorisnickoIme) REFERENCES Spasilac(KorisnickoIme)
);